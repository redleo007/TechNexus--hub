/* =================================================
   UI ALIGNMENT & SPACING UTILITIES
   Final fine-tuning for perfect alignment
   ================================================= */

/* Icon Alignment Fixes */
.icon-align {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  vertical-align: middle;
}

svg,
i.fa,
i.fas,
i.far,
i.fab {
  vertical-align: middle;
  flex-shrink: 0;
}

/* Text & Icon Flex Containers */
.text-icon-row {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  line-height: 1.5;
}

.text-icon-row svg,
.text-icon-row i {
  flex-shrink: 0;
  vertical-align: middle;
}

/* Additional Flex Utilities */
.flex-start {display: flex; align-items: center; justify-content: flex-start; }
.flex-end { display: flex; align-items: center; justify-content: flex-end; }
.flex-wrap { flex-wrap: wrap; }
.flex-nowrap { flex-wrap: nowrap; }
.flex-1 { flex: 1; }
.flex-shrink-0 { flex-shrink: 0; }
.flex-grow-0 { flex-grow: 0; }

/* Alignment Utilities */
.items-center { align-items: center; }
.items-start { align-items: flex-start; }
.items-end { align-items: flex-end; }
.items-baseline { align-items: baseline; }
.items-stretch { align-items: stretch; }

.justify-center { justify-content: center; }
.justify-between { justify-content: space-between; }
.justify-around { justify-content: space-around; }
.justify-evenly { justify-content: space-evenly; }
.justify-start { justify-content: flex-start; }
.justify-end { justify-content: flex-end; }

/* Gap Utilities */
.gap-xs { gap: var(--spacing-xs); }
.gap-sm { gap: var(--spacing-sm); }
.gap-md { gap: var(--spacing-md); }
.gap-lg { gap: var(--spacing-lg); }
.gap-xl { gap: var(--spacing-xl); }
.gap-2xl { gap: var(--spacing-2xl); }

/* Overflow Utilities */
.overflow-hidden { overflow: hidden; }
.overflow-visible { overflow: visible; }
.overflow-auto { overflow: auto; }
.overflow-scroll { overflow: scroll; }
.overflow-x-auto { overflow-x: auto; overflow-y: hidden; }
.overflow-y-auto { overflow-y: auto; overflow-x: hidden; }
.overflow-x-hidden { overflow-x: hidden; }
.overflow-y-hidden { overflow-y: hidden; }

/* Text Overflow Utilities */
.text-ellipsis {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.text-nowrap { white-space: nowrap; }
.text-wrap { white-space: normal; }
.text-break { word-break: break-word; }

/* Box Sizing */
.box-border { box-sizing: border-box; }
.box-content { box-sizing: content-box; }

/* Minimum Sizes (prevent collapse) */
.min-w-0 { min-width: 0; }
.min-h-0 { min-height: 0; }
.min-w-full { min-width: 100%; }
.min-h-full { min-height: 100%; }

/* Width & Height Utilities */
.w-full { width: 100%; }
.w-auto { width: auto; }
.h-full { height: 100%; }
.h-auto { height: auto; }

/* Position Utilities */
.relative { position: relative; }
.absolute { position: absolute; }
.fixed { position: fixed; }
.sticky { position: sticky; }

/* Z-Index Utilities */
.z-0 { z-index: 0; }
.z-10 { z-index: 10; }
.z-20 { z-index: 20; }
.z-30 { z-index: 30; }
.z-40 { z-index: 40; }
.z-50 { z-index: 50; }

/* Visibility Utilities */
.visible { visibility: visible; }
.invisible { visibility: hidden; }
.opacity-0 { opacity: 0; }
.opacity-50 { opacity: 0.5; }
.opacity-100 { opacity: 1; }

/* Pointer Events */
.pointer-events-none { pointer-events: none; }
.pointer-events-auto { pointer-events: auto; }

/* Cursor Utilities */
.cursor-pointer { cursor: pointer; }
.cursor-default { cursor: default; }
.cursor-not-allowed { cursor: not-allowed; }

/* User Select */
.select-none { user-select: none; }
.select-text { user-select: text; }
.select-all { user-select: all; }

/* Prevent Content Bleeding */
.contain {
  overflow: hidden;
  box-sizing: border-box;
}

/* Card Content Wrapper (prevents overflow) */
.card-content {
  flex: 1;
  min-height: 0;
  min-width: 0;
  overflow: hidden;
}

/* Safe Area Padding (for mobile notches) */
@supports (padding: max(0px)) {
  .safe-area-top {
    padding-top: max(var(--spacing-md), env(safe-area-inset-top));
  }
  
  .safe-area-bottom {
    padding-bottom: max(var(--spacing-md), env(safe-area-inset-bottom));
  }
  
  .safe-area-left {
    padding-left: max(var(--spacing-md), env(safe-area-inset-left));
  }
  
  .safe-area-right {
    padding-right: max(var(--spacing-md), env(safe-area-inset-right));
  }
}

/* Anti-Overlap Utilities */
.no-overlap {
  position: relative;
  z-index: 1;
  isolation: isolate;
}

/* Flex Grid Fix (prevent shrinking) */
.flex-grid-item {
  flex: 1 1 auto;
  min-width: 0;
  min-height: 0;
  box-sizing: border-box;
}

/* Touch Target Size (44x44px minimum) */
.touch-target {
  min-width: 44px;
  min-height: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Scrollbar Styling for All Containers */
.custom-scrollbar::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

.custom-scrollbar::-webkit-scrollbar-track {
  background: rgba(0, 217, 255, 0.05);
  border-radius: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(0, 217, 255, 0.2);
  border-radius: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 217, 255, 0.4);
}

/* Prevent Horizontal Scroll */
.no-scroll-x {
  overflow-x: hidden;
  max-width: 100%;
}

/* Ensure Proper Stacking Context */
.stack-context {
  position: relative;
  z-index: 0;
  isolation: isolate;
}

/* =================================================
   RESPONSIVE ALIGNMENT HELPERS
   ================================================= */

@media (max-width: 768px) {
  .mobile-flex-col {
    flex-direction: column;
  }
  
  .mobile-w-full {
    width: 100%;
  }
  
  .mobile-gap-sm {
    gap: var(--spacing-sm);
  }
  
  .mobile-text-center {
    text-align: center;
  }
}

@media (max-width: 480px) {
  .mobile-sm-flex-col {
    flex-direction: column;
  }
  
  .mobile-sm-w-full {
    width: 100%;
  }
  
  .mobile-sm-gap-xs {
    gap: var(--spacing-xs);
  }
}

/* =================================================
   PREVENT COMMON LAYOUT ISSUES
   ================================================= */

/* Fix Flexbox Shrinking */
img,
svg,
video,
canvas,
audio,
iframe,
embed,
object {
  flex-shrink: 0;
  max-width: 100%;
  height: auto;
}

/* Ensure Buttons Don't Shrink */
button,
.btn,
a.btn {
  flex-shrink: 0;
}

/* Prevent Text Overflow in Flex Containers */
.flex > *,
.flex-col > * {
  min-width: 0;
  min-height: 0;
}

/* Fix Grid Items */
.grid > * {
  min-width: 0;
  min-height: 0;
}
